<!DOCTYPE html>
<html>
   <head>
      <title>dan's cool video site</title>
      <meta name="author" content="@DanBullockCS">
      <meta charset="UTF-8">
      <meta name="description" content="Video">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="styles.css">
      <!-- Favicon Stuff -->
      <link rel="apple-touch-icon" sizes="180x180" href="/video/favicons/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/video/favicons/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/video/favicons/favicon-16x16.png">
      <link rel="manifest" href="/video/favicons/site.webmanifest">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">
   </head>

   <body>
      <h1>[cool random video]</h1>
      <p>no, you can't pause the video. go ahead try.</p>
      <p>is a video not working? let me know: 
         <br><a title="Dan's Twitter" href="https://twitter.com/DanBullockCS" target="_blank" rel="noopener"><img id="twitter-pic" src="https://i.imgur.com/aAPFgUF.png" alt="twitter-logo"></a>
      </p>
      <button class="refresh-btn" onClick="window.location.reload();">click for a new video</button>
      <div class="video-container">
         <div id="player"></div>
      </div>

      <script>
         let videoArr = ['H3Y1qDmMcxM', '0FODZB3ofKo', '2GwddHr2c3U', 'FwRIMBMJj2s', 'kyXz50Rz_1E', 
                         'h0-WO6xRbAo', '47LINF4pARQ', 'Hcv58qyS6xs', 'U8284fZiBwY', '5qap5aO4i9A', 
                         '6P3cdQGOziU', 'FSuPUTbC80A', 'Ygb2t4h0WQ4', 'Afu6qhq8Mzw', 'Sls5dX30klk']
         let randomVid = videoArr[Math.floor(Math.random() * videoArr.length)];
         
         var tag = document.createElement('script');
   
         tag.src = "https://www.youtube.com/iframe_api";
         var firstScriptTag = document.getElementsByTagName('script')[0];
         firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
   
         var player;
         function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
               videoId: randomVid,
               playerVars: {'autoplay': 1, 'controls': 1, 'modestbranding': 1, 'loop': 1, 'playlist': randomVid},
               events: {
                  'onReady': onPlayerReady,
                  'onStateChange': onPlayerStateChange
               }
           });
         }
   
         function onPlayerReady(event) {
            event.target.playVideo();
         }
   
         // If they try to pause it, unpause it. Not on my site buddy.
         function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PAUSED) {
               event.target.playVideo();
            }
         }
      </script>
   </body>
</html>